<%- include('../partials/head', { styles: ['checkout', 'form', 'orders'] }); -%>

<section class="checkout-wrapper w-100">
  <h1 class="main-heading">Checkout</h1>
  <div class="checkout">
    <div class="checkout__payment">
      <noscript>You need to enable JavaScript to pay.</noscript>
      <form class="form form--horizontal form--no-max-width" id="payment">
        <h2 class="checkout__heading">Payment</h2>
        <div class="form-group">
          <input class="form-group__input" type="text">
          <label class="form-group__label">Card Number</label>
        </div>
        <div class="form-group form-group--half-width">
          <input class="form-group__input" type="text">
          <label class="form-group__label">Expiration</label>
        </div>
        <div class="form-group form-group--half-width">
          <input class="form-group__input" type="text">
          <label class="form-group__label">CVC</label>
        </div>
        <div class="form__summary">
          Total price:
          <span class="checkout__price">$ <%= cart.totalPrice.toFixed(2) %></span>
        </div>
        <button class="button" type="submit">Submit payment</button>
      </form>
    </div>
    <div class="checkout__order order">
      <h2 class="checkout__heading">
        Order Summary
      </h2>
      <div class="order__products">
        Products:
        <ul class="order__products-list">
          <% for (const product of cart.products) { %>
          <li>
            <span class="order-product">
              <span class="order-product__details">
                <%= product.quantity %> x <%= product.name %>
              </span>
              <span class="order-product__subtotal">
                $ <%= (product.price * product.quantity).toFixed(2) %>
              </span>
            </span>
          </li>
          <% } %>
        </ul>
      </div>
      <div class="order__actions">
        <a class="button" href="/cart">Back to cart</a>
      </div>
    </div>
  </div>
</section>

<%- include('../partials/end') -%>
