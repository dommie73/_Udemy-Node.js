<%- include('../partials/head', { styles: ['form'] }); -%>

<form
	autocomplete="off"
	class="form product-form"
	action="/admin/<%= editing ? 'edit': 'add' %>-product"
	method="POST"
>
	<h1 class="main-heading">
		<%= editing ? `Edit Product: ${product.name}` : 'Add Product' %>
	</h1>
	<div class="form-group">
		<label class="form-group__label" for="name">Name</label>
		<input
			class="form-group__input"
			id="name"
			name="name"
			type="text"
			value="<%= editing ? product.name : '' %>"
		/>
	</div>
	<div class="form-group">
		<label class="form-group__label" for="imageUrl">Image URL</label>
		<input
			class="form-group__input"
			id="imageUrl"
			name="imageUrl"
			type="text"
			value="<%= editing ? product.imageUrl : '' %>"
		/>
	</div>
	<div class="form-group">
		<label class="form-group__label" for="price">Price</label>
		<input
			class="form-group__input"
			id="price"
			min="0"
			name="price"
			step="0.01"
			type="number"
			value="<%= editing ? product.price : '' %>"
		/>
	</div>
	<div class="form-group form-group--vertical">
		<label class="form-group__label" for="description">Description</label>
		<textarea
			class="form-group__textarea"
			id="description"
			name="description"
			rows="7"
		>
			<%= editing ? product.description : '' %>
		</textarea>
	</div>
	<% if (editing) { %>
		<input name="id" type="hidden" value="<%= product._id %>" />
	<% } %>
	<%- include('../partials/csrf'); -%>
	<button class="button" type="submit">
		<%= editing ? 'Update' : 'Add' %> Product
	</button>
</form>

<%- include('../partials/end'); -%>
